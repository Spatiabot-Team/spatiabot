import {HttpService, Injectable} from "@nestjs/common";

@Injectable()
export class DiscordApi {

    static DISCORD_TOKEN_URL = "";

    constructor(private httpService: HttpService) {
        console.log('DiscordApi');
    }

    async getInfosUser(accessToken) {

        const res = await this.httpService.get('https://discord.com/api/users/@me/guilds',
            { headers: {Authorization : `Bearer ${accessToken}`}})
        .toPromise();
        return res.data;
    }

}
